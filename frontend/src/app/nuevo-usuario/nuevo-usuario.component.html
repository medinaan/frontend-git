<div class="container mt-5">
  <h2>Formulario de Usuario</h2>
  <form [formGroup]="usuarioForm" (ngSubmit)="onSubmit()">
    <div *ngIf="mensajeError" class="alert alert-danger">
      {{ mensajeError }}
    </div>

    <div class="form-group">
      <label for="dni">DNI *</label>
      <div *ngIf="usuarioForm.get('dni')?.hasError('required') && usuarioForm.get('dni')?.touched" class="text-danger">
        DNI es obligatorio.
      </div>
      <input type="text" id="dni" formControlName="dni" class="form-control" [class.is-invalid]="usuarioForm.get('dni')?.invalid && usuarioForm.get('dni')?.touched" required>
    </div>

    <div class="form-group">
      <label for="apellidos">Apellidos *</label>
      <div *ngIf="usuarioForm.get('apellidos')?.hasError('required') && usuarioForm.get('apellidos')?.touched" class="text-danger">
        Apellidos son obligatorios.
      </div>
      <input type="text" id="apellidos" formControlName="apellidos" class="form-control" [class.is-invalid]="usuarioForm.get('dni')?.invalid && usuarioForm.get('dni')?.touched" required>
    </div>

    <div class="form-group">
      <label for="clave">Clave *</label>
      <div *ngIf="usuarioForm.get('clave')?.hasError('required') && usuarioForm.get('clave')?.touched" class="text-danger">
        Clave es obligatoria.
      </div>
      <input type="password" id="clave" formControlName="clave" class="form-control" [class.is-invalid]="usuarioForm.get('dni')?.invalid && usuarioForm.get('dni')?.touched" required>
    </div>

    <div class="form-group">
      <label for="correo">Correo *</label>
      <div *ngIf="usuarioForm.get('correo')?.hasError('required') && usuarioForm.get('correo')?.touched" class="text-danger">
        Correo es obligatorio.
      </div>
      <div *ngIf="usuarioForm.get('correo')?.hasError('email') && usuarioForm.get('correo')?.touched" class="text-danger">
        Ingresa un correo válido.
      </div>
      <input type="email" id="correo" formControlName="correo" class="form-control" [class.is-invalid]="usuarioForm.get('dni')?.invalid && usuarioForm.get('dni')?.touched" required>
    </div>

    <div class="form-group">
      <label for="direccion">Dirección</label>
      <input type="text" id="direccion" formControlName="direccion" class="form-control">
    </div>

    <div class="form-group">
      <label for="estado">Estado</label>
      <input type="text" id="estado" formControlName="estado" class="form-control">
    </div>

    <div class="form-group">
      <label for="nombre">Nombre *</label>
      <div *ngIf="usuarioForm.get('nombre')?.hasError('required') && usuarioForm.get('nombre')?.touched" class="text-danger">
        Nombre es obligatorio.
      </div>
      <input type="text" id="nombre" formControlName="nombre" class="form-control" [class.is-invalid]="usuarioForm.get('dni')?.invalid && usuarioForm.get('dni')?.touched" required>
    </div>

    <div class="form-group">
      <label for="telefono">Teléfono</label>
      <input type="tel" id="telefono" formControlName="telefono" class="form-control">
    </div>

    <div class="form-group">
      <label for="idRol">Rol *</label>
      <div *ngIf="usuarioForm.get('idRol')?.hasError('required') && usuarioForm.get('idRol')?.touched" class="text-danger">
        Rol es obligatorio.
      </div>
      <select id="idRol" formControlName="idRol" class="form-control" [class.is-invalid]="usuarioForm.get('dni')?.invalid && usuarioForm.get('dni')?.touched" required>
        <option *ngFor="let rol of roles" [value]="rol.idRol">{{ rol.nombre }}</option>
      </select>
    </div>
    
    <div class="mt-3 mb-3 form-group text-center">
      <button type="submit" class="btn btn-primary">Crear Usuario</button>
    </div>
  </form>
</div>
